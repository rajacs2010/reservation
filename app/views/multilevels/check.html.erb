
<html>
<head>
   <title>JavaScript - Select All checkbox in form</title>
     <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script>

$(function(){
  
    $(".checkbox").click(function(){
        if($(".checkbox:checked").length == 0 && $(".checkbox1:checked").length == 0)
        {
          $("#group").attr("disabled",true);
          $("#group1").hide();
        }

        else  
        {
          $("#group").attr("disabled",false);
          if($(".checkbox").length == $(".checkbox:checked").length) 
          {
            $("#selectAll").attr("checked", "checked");
          } 
          else 
          {
            $("#selectAll").removeAttr("checked");
          }
        }
    });
    

    $("#selectAll").click(function () {
          $('.checkbox').attr('checked', this.checked);
          if($(".checkbox:checked").length == 0 && $(".checkbox1:checked").length == 0)
        {
          $("#group").attr("disabled",true);
          $("#group1").hide();
        }

        else  
        {
          $("#group").attr("disabled",false);

        }
    });
    $(".checkbox1").click(function(){
        if($(".checkbox1:checked").length == 0 && $(".checkbox:checked").length == 0)
        {
          $("#group").attr("disabled",true);
          $("#group1").hide();
        }

        else  
        {
          $("#group").attr("disabled",false);
          if($(".checkbox1").length == $(".checkbox1:checked").length) 
          {
            $("#selectAll1").attr("checked", "checked");
          } 
          else 
          {
            $("#selectAll1").removeAttr("checked");
          }
        }
    });
    

    $("#selectAll1").click(function () {
          $('.checkbox1').attr('checked', this.checked);
          if($(".checkbox1:checked").length == 0 && $(".checkbox:checked").length == 0)
        {
          $("#group").attr("disabled",true);
          $("#group1").hide();
        }

        else  
        {
          $("#group").attr("disabled",false);

        }
    });
 
    $("#group").live('click',function(event){
        $("#group1").show();
    });
    
    $("#group1").hide();
});

</script>
 <style>
        .containerDiv {
    border: 1px solid #3697f6;
    width: 100%; display:table
  }
  .rowDivHeader {
    border: 1px solid #668db6;
    background-color: #0093B8;
    color: white;
    font-weight: bold; display:table-row
  }
  .rowDiv {
    border: 1px solid #668db6;
    background-color: #cee6fe;
    display:table-row
  }
  .cellDivHeader {
    border-right: 1px solid white;
    display: table-cell;
    width:auto;
    padding: 1px;
    text-align: center; 
  }
  .cellDiv {
    border-right: 2px solid white;
    display: table-cell;
    width:auto;
    padding-right: 4px;
    text-align: center;
    border-bottom: none;
  }

  .lastCell {
    border-right: none;
  }
  
    </style>
   
</head>
<body>
<form name="frm" action = "check">
<div class="containerDiv">

  <div class="rowDivHeader">
    <div class="cellDivHeader">Responsible</div>
    <% @value.times do |n|%>
    <div class="cellDivHeader"><%= n+1 %></div>
    <% end %>
    
    <div class="cellDivHeader lastCell">ALL</div>
  </div>
  
  <div class="rowDiv">
    <div class="cellDiv">Create</div>
    <% @value.times do |n|%>  
    <div class="cellDiv"><input type="checkbox" class ="checkbox" name="chkName" value = "<%= n+1 %>"></div>
     <% end %>

    <div class="cellDiv lastCell"><input type="checkbox" id ="selectAll" name="allCheck"  value = "all"><br /></div>
  </div>
  <div class="rowDiv">
    <div class="cellDiv">Review & Approve</div>
    <% @value.times do |n|%>  
    <div class="cellDiv"><input type="checkbox" class ="checkbox1" name="chkName" value = "<%= n+1 %>"></div>
     <% end %>

    <div class="cellDiv lastCell"><input type="checkbox" id ="selectAll1" name="allCheck"  value = "all"><br /></div>
  </div>
  
</div>
</br>
<div style="text-align: justify">
<input type="button" id="group" value="Select Blood Groupe" disabled=true><br>
 <select id = "group1" name = "blood_group" multiple = true onchange="showDonor(this.value)">
               <option value = "all" selected>Select Group</option>   
               <option value = "A+">A+</option>
               <option value = "A-">A-</option>
         <option value = "B+">B+</option>
         <option value = "B-">B-</option>
               <option value = "AB+">AB+</option>
         <option value = "AB-">AB-</option>
               <option value = "O+">O+</option>
               <option value = "O-">O-</option></select></br></div>
 <br>


</form>
</body>
</html>
